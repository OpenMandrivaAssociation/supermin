diff -up supermin-5.1.20/src/ph_rpm.ml.omv~ supermin-5.1.20/src/ph_rpm.ml
--- supermin-5.1.20/src/ph_rpm.ml.omv~	2019-03-27 17:05:54.929707877 +0100
+++ supermin-5.1.20/src/ph_rpm.ml	2019-03-27 17:09:23.418444428 +0100
@@ -50,6 +50,12 @@ let mageia_detect () =
     (Os_release.get_id () = "mageia" ||
      try (stat "/etc/mageia-release").st_kind = S_REG with Unix_error _ -> false)
 
+let openmandriva_detect () =
+  Config.rpm <> "no" && Config.rpm2cpio <> "no" && rpm_is_available () &&
+    ((Config.urpmi <> "no" && Config.fakeroot <> "no") || Config.dnf <> "no") &&
+    (Os_release.get_id () = "openmandriva" ||
+     try (stat "/etc/openmandriva-release").st_kind = S_REG with Unix_error _ -> false)
+
 let ibm_powerkvm_detect () =
   Config.rpm <> "no" && Config.rpm2cpio <> "no" && rpm_is_available () &&
     Config.yumdownloader <> "no" &&
@@ -386,17 +392,27 @@ and opensuse_download_all_packages pkgs
 
   rpm_unpack tdir dir
 
+and openmandriva_download_all_packages pkgs dir =
+  let tdir = !settings.tmpdir // string_random8 () in
+
+  if Config.dnf <> "no" then
+    download_all_packages_with_dnf pkgs dir tdir
+  else (* Config.urpmi <> "no" && Config.fakeroot <> "no" *)
+    download_all_packages_with_urpmi pkgs dir tdir;
+
+  rpm_unpack tdir dir
+
 and mageia_download_all_packages pkgs dir =
   let tdir = !settings.tmpdir // string_random8 () in
 
   if Config.dnf <> "no" then
     download_all_packages_with_dnf pkgs dir tdir
   else (* Config.urpmi <> "no" && Config.fakeroot <> "no" *)
-    mageia_download_all_packages_with_urpmi pkgs dir tdir;
+    download_all_packages_with_urpmi pkgs dir tdir;
 
   rpm_unpack tdir dir
 
-and mageia_download_all_packages_with_urpmi pkgs dir tdir =
+and download_all_packages_with_urpmi pkgs dir tdir =
   let rpms = List.map rpm_package_name (PackageSet.elements pkgs) in
 
   let cmd =
@@ -485,3 +501,9 @@ let () =
     ph_download_package = PHDownloadAllPackages mageia_download_all_packages;
   } in
-  register_package_handler "mageia" "rpm" mageia
+  register_package_handler "mageia" "rpm" mageia;
+  let openmandriva = {
+    fedora with
+    ph_detect = openmandriva_detect;
+    ph_download_package = PHDownloadAllPackages openmandriva_download_all_packages;
+  } in
+  register_package_handler "openmandriva" "rpm" openmandriva
diff -up supermin-5.1.20/tests/test-harder.sh.omv~ supermin-5.1.20/tests/test-harder.sh
--- supermin-5.1.20/tests/test-harder.sh.omv~	2019-03-27 17:02:10.438915170 +0100
+++ supermin-5.1.20/tests/test-harder.sh	2019-03-27 17:05:45.222673589 +0100
@@ -31,6 +31,7 @@ if [ -f /etc/os-release ]; then
         fedora|rhel|centos) distro=redhat ;;
         opensuse*|sled|sles) distro=suse ;;
         ubuntu) distro=debian ;;
+        openmandriva) distro=openmandriva ;;
     esac
 elif [ -f /etc/arch-release ]; then
     distro=arch
@@ -77,6 +78,9 @@ case $distro in
     ibm-powerkvm)
 	pkgs="augeas hivex tar"
 	;;
+    openmandriva)
+        pkgs="augeas hivex rpm"
+        ;;
     *)
 	echo "Unhandled distro '$distro'"
 	exit 77
@@ -136,6 +140,33 @@ case $distro in
 	    echo "$0: $distro: augeas library not installed in chroot"
 	    ls -lR $d2
 	    exit 1
+	fi
+	if [ ! -x $d2/usr/bin/hivexget ]; then
+	    echo "$0: $distro: hivexget binary not installed in chroot"
+	    ls -lR $d2
+	    exit 1
+	fi
+	if [ "$(find $d2/usr/lib* -name libhivex.so.0 | wc -l)" -lt 1 ]; then
+	    echo "$0: $distro: hivex library not installed in chroot"
+	    ls -lR $d2
+	    exit 1
+	fi
+	if [ ! -x $d2/bin/rpm ]; then
+	    echo "$0: $distro: rpm binary not installed in chroot"
+	    ls -lR $d2
+	    exit 1
+	fi
+	;;
+    openmandriva)
+	if [ ! -x $d2/usr/bin/augtool ]; then
+	    echo "$0: $distro: augtool binary not installed in chroot"
+	    ls -lR $d2
+	    exit 1
+	fi
+	if [ "$(find $d2/lib* $d2/usr/lib* -name libaugeas.so.0 | wc -l)" -lt 1 ]; then
+	    echo "$0: $distro: augeas library not installed in chroot"
+	    ls -lR $d2
+	    exit 1
 	fi
 	if [ ! -x $d2/usr/bin/hivexget ]; then
 	    echo "$0: $distro: hivexget binary not installed in chroot"
